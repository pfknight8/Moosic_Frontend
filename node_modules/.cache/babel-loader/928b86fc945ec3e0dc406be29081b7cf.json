{"ast":null,"code":"var _jsxFileName = \"/Users/emilybyrne/ga_seir/unit3/projects/Moosic_Frontend/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { Route, Routes } from 'react-router-dom';\nimport { useNavigate } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport Home from './Pages/Home';\nimport Profile from './Pages/Profile';\nimport SongSearch from './Pages/SongSearch';\nimport SongDetails from './Pages/SongDetails';\nimport PlaylistDetails from './Pages/PlaylistDetails';\nimport NavBar from './Components/NavBar';\nimport SignUp from './Pages/SignUp';\nimport Login from './Pages/Login';\nimport Header from './Components/Header';\nimport { CheckLogin } from './services/Auth';\nimport './App.css';\nimport Client, { BASE_URL } from './services/api';\nimport axios from 'axios'; // import { BASE_URL } from '../globals'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  //State\n  const [songSearchFilters, setSongSearchFilters] = useState({});\n  const [selectedSong, setSelectedSong] = useState(null);\n  const [selectedPlaylist, setSelectedPlaylist] = useState(null);\n  const [userPlaylists, setUserPlaylists] = useState(null);\n  const [playlistSongs, setPlaylistSongs] = useState(null);\n  const [authenticated, toggleAuthenticated] = useState(false);\n  const [user, setUser] = useState(null);\n  let navigate = useNavigate(); //Functions\n\n  const handleSongSelect = song => {\n    setSelectedSong(song);\n    navigate(`/songs/${song.id}`);\n  };\n\n  const handlePlaylistSelect = async playlist => {\n    await setSelectedPlaylist(playlist);\n    setPlaylistSongs(selectedPlaylist.songs); // const populateSongs = async (selectedPlaylist) => {\n    //   let songsFromPL = await Client.get(`${BASE_URL}/api/playlist/songs/${selectedPlaylist.id}`)\n    //   console.log(songsFromPL.data)\n    //   setPlaylistSongs(songsFromPL.data)\n    // }\n    // await populateSongs(selectedPlaylist)\n\n    navigate(`/profile/playlist/${playlist.id}`);\n  };\n\n  const handleUserPlaylists = async user => {\n    let user_id = user.id;\n    let playlists = await Client.get(`${BASE_URL}/api/playlist/${user_id}`);\n    setUserPlaylists(playlists.data);\n  };\n\n  const handlePlaylistSongs = async playlist => {\n    let playlist_id = playlist.id;\n    let songs = await Client.get(`${BASE_URL}/api/playlist/songs/${playlist_id}`);\n    setPlaylistSongs(songs);\n  }; // const SongDetails = (props) => {\n  //   const [songDetails, setSongDetails] = useState({})\n  //   useEffect(() => {\n  //     async function getSong() {\n  //       const res = await axios.get(\n  //         `${BASE_URL}/movie/${props.selectedSong}?api_key=${process.env.REACT_APP_DEEZER_KEY}`\n  //       )\n  //       setSongDetails(res.data)\n  //     }\n  //     getSong()\n  //   }, [props.selectedSong])\n  // }\n  // Auth functions\n\n\n  const checkToken = async () => {\n    const user = await CheckLogin();\n    setUser(user);\n    toggleAuthenticated(true);\n  };\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n\n    if (token) {\n      checkToken();\n    }\n  }, []);\n\n  const LogOut = () => {\n    setUser(null);\n    toggleAuthenticated(false);\n    localStorage.clear();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/songs\",\n          element: /*#__PURE__*/_jsxDEV(SongSearch, {\n            setSongSearchFilters: setSongSearchFilters,\n            songSearchFilters: songSearchFilters,\n            handleSongSelect: handleSongSelect\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/profile\",\n          element: /*#__PURE__*/_jsxDEV(Profile, {\n            user: user,\n            authenticated: authenticated,\n            userPlaylists: userPlaylists,\n            handlePlaylistSelect: handlePlaylistSelect,\n            handleUserPlaylists: handleUserPlaylists,\n            handlePlaylistSongs: handlePlaylistSongs\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signUp\",\n          element: /*#__PURE__*/_jsxDEV(SignUp, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/userLogin\",\n          element: /*#__PURE__*/_jsxDEV(Login, {\n            setUser: setUser,\n            toggleAuthenticated: toggleAuthenticated\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/songs/:song_id\",\n          element: /*#__PURE__*/_jsxDEV(SongDetails, {\n            selectedSong: selectedSong,\n            user: user,\n            authenticated: authenticated\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/profile/playlist/:playlist_id\",\n          element: /*#__PURE__*/_jsxDEV(PlaylistDetails, {\n            selectedPlaylist: selectedPlaylist,\n            handleSongSelect: handleSongSelect,\n            playlistSongs: playlistSongs,\n            user: user,\n            authenticated: authenticated\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"5CnT1YhC6fXDQJ+AJa29N3tnOKc=\", false, function () {\n  return [useNavigate];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Route","Routes","useNavigate","useState","useEffect","Home","Profile","SongSearch","SongDetails","PlaylistDetails","NavBar","SignUp","Login","Header","CheckLogin","Client","BASE_URL","axios","App","songSearchFilters","setSongSearchFilters","selectedSong","setSelectedSong","selectedPlaylist","setSelectedPlaylist","userPlaylists","setUserPlaylists","playlistSongs","setPlaylistSongs","authenticated","toggleAuthenticated","user","setUser","navigate","handleSongSelect","song","id","handlePlaylistSelect","playlist","songs","handleUserPlaylists","user_id","playlists","get","data","handlePlaylistSongs","playlist_id","checkToken","token","localStorage","getItem","LogOut","clear"],"sources":["/Users/emilybyrne/ga_seir/unit3/projects/Moosic_Frontend/client/src/App.js"],"sourcesContent":["import { Route, Routes } from 'react-router-dom'\nimport { useNavigate } from 'react-router-dom'\nimport { useState, useEffect } from 'react'\nimport Home from './Pages/Home'\nimport Profile from './Pages/Profile'\nimport SongSearch from './Pages/SongSearch'\nimport SongDetails from './Pages/SongDetails'\nimport PlaylistDetails from './Pages/PlaylistDetails'\nimport NavBar from './Components/NavBar'\nimport SignUp from './Pages/SignUp'\nimport Login from './Pages/Login'\nimport Header from './Components/Header'\nimport { CheckLogin } from './services/Auth'\nimport './App.css'\nimport Client, { BASE_URL } from './services/api'\nimport axios from 'axios'\n// import { BASE_URL } from '../globals'\n\nfunction App() {\n  //State\n  const [songSearchFilters, setSongSearchFilters] = useState({})\n  const [selectedSong, setSelectedSong] = useState(null)\n  const [selectedPlaylist, setSelectedPlaylist] = useState(null)\n  const [userPlaylists, setUserPlaylists] = useState(null)\n  const [playlistSongs, setPlaylistSongs] = useState(null)\n  const [authenticated, toggleAuthenticated] = useState(false)\n  const [user, setUser] = useState(null)\n\n  let navigate = useNavigate()\n  //Functions\n  const handleSongSelect = (song) => {\n    setSelectedSong(song)\n    navigate(`/songs/${song.id}`)\n  }\n\n  const handlePlaylistSelect = async (playlist) => {\n    await setSelectedPlaylist(playlist)\n    setPlaylistSongs(selectedPlaylist.songs)\n    // const populateSongs = async (selectedPlaylist) => {\n    //   let songsFromPL = await Client.get(`${BASE_URL}/api/playlist/songs/${selectedPlaylist.id}`)\n    //   console.log(songsFromPL.data)\n    //   setPlaylistSongs(songsFromPL.data)\n    // }\n    // await populateSongs(selectedPlaylist)\n    navigate(`/profile/playlist/${playlist.id}`)\n  }\n  const handleUserPlaylists = async (user) => {\n    let user_id = user.id\n    let playlists = await Client.get(`${BASE_URL}/api/playlist/${user_id}`)\n    setUserPlaylists(playlists.data)\n  }\n  const handlePlaylistSongs = async (playlist) => {\n    let playlist_id = playlist.id\n    let songs = await Client.get(\n      `${BASE_URL}/api/playlist/songs/${playlist_id}`\n    )\n    setPlaylistSongs(songs)\n  }\n  // const SongDetails = (props) => {\n  //   const [songDetails, setSongDetails] = useState({})\n\n  //   useEffect(() => {\n  //     async function getSong() {\n  //       const res = await axios.get(\n  //         `${BASE_URL}/movie/${props.selectedSong}?api_key=${process.env.REACT_APP_DEEZER_KEY}`\n  //       )\n  //       setSongDetails(res.data)\n  //     }\n  //     getSong()\n  //   }, [props.selectedSong])\n  // }\n  // Auth functions\n  const checkToken = async () => {\n    const user = await CheckLogin()\n    setUser(user)\n    toggleAuthenticated(true)\n  }\n  useEffect(() => {\n    const token = localStorage.getItem('token')\n    if (token) {\n      checkToken()\n    }\n  }, [])\n  const LogOut = () => {\n    setUser(null)\n    toggleAuthenticated(false)\n    localStorage.clear()\n  }\n  return (\n    <div className=\"App\">\n      <Header />\n      {/* <NavBar /> */}\n      <main>\n        <Routes>\n          <Route path=\"/\" element={<Home />} />\n          <Route\n            path=\"/songs\"\n            element={\n              <SongSearch\n                setSongSearchFilters={setSongSearchFilters}\n                songSearchFilters={songSearchFilters}\n                handleSongSelect={handleSongSelect}\n              />\n            }\n          />\n          <Route\n            path=\"/profile\"\n            element={\n              <Profile\n                user={user}\n                authenticated={authenticated}\n                userPlaylists={userPlaylists}\n                handlePlaylistSelect={handlePlaylistSelect}\n                handleUserPlaylists={handleUserPlaylists}\n                handlePlaylistSongs={handlePlaylistSongs}\n              />\n            }\n          />\n          <Route path=\"/signUp\" element={<SignUp />} />\n          <Route\n            path=\"/userLogin\"\n            element={\n              <Login\n                setUser={setUser}\n                toggleAuthenticated={toggleAuthenticated}\n              />\n            }\n          />\n          <Route\n            path=\"/songs/:song_id\"\n            element={\n              <SongDetails \n                selectedSong={selectedSong}\n                user={user}\n                authenticated={authenticated}\n              />\n            }\n          />\n          <Route\n            path=\"/profile/playlist/:playlist_id\"\n            element={\n              <PlaylistDetails\n                selectedPlaylist={selectedPlaylist}\n                handleSongSelect={handleSongSelect}\n                playlistSongs={playlistSongs}\n                user={user}\n                authenticated={authenticated}\n              />\n            }\n          />\n        </Routes>\n      </main>\n    </div>\n  )\n}\n\nexport default App\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}